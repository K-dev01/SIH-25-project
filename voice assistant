import React from 'react';
import { Button } from "@/components/ui/button";
import { Mic, MicOff, Zap } from 'lucide-react';
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip";

export default function VoiceAssistant({ isListening, startListening, hasRecognitionSupport, transcript }) {
  if (!hasRecognitionSupport) {
    return null;
  }

  return (
    <div className="fixed bottom-6 right-6 z-50">
      <TooltipProvider>
        <Tooltip>
          <TooltipTrigger asChild>
            <Button
              onClick={startListening}
              disabled={isListening}
              size="icon"
              className={`rounded-full w-16 h-16 shadow-lg transition-all duration-300 ${
                isListening
                  ? 'bg-red-600 hover:bg-red-700 animate-pulse'
                  : 'bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700'
              }`}
            >
              {isListening ? (
                <MicOff className="h-8 w-8 text-white" />
              ) : (
                <Mic className="h-8 w-8 text-white" />
              )}
            </Button>
          </TooltipTrigger>
          <TooltipContent side="left" className="bg-gray-800 text-white border-none">
            {isListening ? (
              <p>Listening... Say a command.</p>
            ) : (
              <div>
                <p className="font-bold">Tap to use Voice Assistant</p>
                <p className="text-xs">e.g., "Go to dashboard" or "Find science courses"</p>
              </div>
            )}
          </TooltipContent>
        </Tooltip>
      </TooltipProvider>
    </div>
  );
}
